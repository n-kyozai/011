<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•™å“¡æ¡ç”¨è©¦é¨“å¯¾ç­–ï¼šåœ°ç†æ­´å²ç§‘å­¦ç¿’æŒ‡å°è¦é ˜ã‚¯ã‚¤ã‚º</title>
    <style>
        /* CSSå¤‰æ•°ï¼ˆã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼‰ */
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --background-color: #ecf0f1;
            --text-color: #333;
            --card-bg: #ffffff;
            --correct-color: #27ae60;
            --incorrect-color: #e74c3c;
            --border-radius: 8px;
        }

        /* å…¨ä½“ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth; /* ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
        }

        header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1.5rem 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-size: 1.4rem;
        }

        header p {
            margin: 0.5rem 0 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        main {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* ã‚«ãƒ¼ãƒ‰å‹UI */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
            transition: transform 0.2s ease;
        }

        /* ã‚¯ã‚¤ã‚ºã‚¨ãƒªã‚¢ */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #ecf0f1;
        }

        #quiz-progress {
            font-weight: bold;
            color: var(--secondary-color);
            font-size: 1.1rem;
        }

        .quit-btn {
            background-color: transparent;
            border: 1px solid var(--incorrect-color);
            color: var(--incorrect-color);
            padding: 0.4rem 0.8rem;
            border-radius: var(--border-radius);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quit-btn:hover {
            background-color: var(--incorrect-color);
            color: white;
        }

        .quit-btn.confirming {
            background-color: var(--incorrect-color);
            color: white;
            font-weight: bold;
        }

        #question-text {
            font-size: 1.15rem;
            margin-bottom: 1.5rem;
            white-space: pre-wrap; /* æ”¹è¡Œã‚’åæ˜  */
        }

        /* é¸æŠè‚¢ãƒœã‚¿ãƒ³ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œFlexboxï¼‰ */
        .options-container {
            display: flex;
            flex-direction: column; /* ã‚¹ãƒãƒ›ã§ã¯ç¸¦ç©ã¿ */
            gap: 12px;
        }

        @media (min-width: 600px) {
            .options-container {
                flex-direction: row;
                flex-wrap: wrap; /* PCãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã¯æŠ˜ã‚Šè¿”ã— */
            }
            .option-btn {
                flex: 1 1 calc(50% - 12px); /* 2åˆ—é…ç½® */
            }
        }

        .option-btn {
            background-color: transparent;
            border: 2px solid var(--secondary-color);
            color: var(--text-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s ease;
        }

        .option-btn:hover:not(:disabled) {
            background-color: var(--secondary-color);
            color: white;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        .option-btn.correct {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: white;
            font-weight: bold;
        }

        .option-btn.incorrect {
            background-color: var(--incorrect-color);
            border-color: var(--incorrect-color);
            color: white;
            text-decoration: line-through;
        }

        /* è§£èª¬ã‚¨ãƒªã‚¢ */
        #feedback-area {
            margin-top: 1.5rem;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            background-color: #f8f9fa;
            border-left: 5px solid var(--secondary-color);
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #feedback-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        .feedback-correct { color: var(--correct-color); }
        .feedback-incorrect { color: var(--incorrect-color); }

        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .action-btn {
            display: block;
            width: 100%;
            padding: 1rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 1.5rem;
            transition: background-color 0.2s ease;
        }

        .action-btn:hover {
            background-color: #1a252f;
        }

        /* çµæœç”»é¢ */
        #result-area {
            text-align: center;
            display: none;
        }

        #score-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin: 1rem 0;
        }

        /* ç©´åŸ‹ã‚æš—è¨˜ã‚«ãƒ¼ãƒ‰ */
        #flashcards-section {
            margin-top: 3rem;
            text-align: left;
        }

        #flashcards-section h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .flashcard {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: box-shadow 0.2s;
        }

        .flashcard:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .flashcard h4 {
            margin-top: 0;
            color: var(--secondary-color);
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
        }

        .flashcard p {
            white-space: pre-wrap;
            margin-bottom: 0;
            font-size: 1.05rem;
        }

        .flashcard-explanation {
            margin-top: 1rem !important;
            padding-top: 1rem;
            border-top: 1px dashed #ccc;
            font-size: 0.95rem !important;
            color: #555;
            display: none; /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
            animation: fadeIn 0.3s;
        }

        .blank-spot {
            display: inline-block;
            background-color: var(--background-color);
            color: var(--primary-color);
            border: 2px dashed var(--secondary-color);
            padding: 0.1rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            user-select: none;
            transition: all 0.2s ease;
            margin: 0 0.2rem;
            font-size: 0.95em;
            min-width: 3em;
            text-align: center;
        }

        .blank-spot:hover {
            background-color: #d6eaf8;
        }

        .blank-spot.revealed {
            background-color: var(--correct-color);
            color: white;
            border: 2px solid var(--correct-color);
        }
        
        .blank-spot.revealed:hover {
            background-color: #219a52; /* å°‘ã—æ¿ƒã */
        }

        .toggle-all-btn {
            background-color: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
            padding: 0.4rem 0.8rem;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .toggle-all-btn:hover {
            background-color: var(--secondary-color);
            color: white;
        }

        /* ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
        #back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }

        #back-to-top:hover {
            transform: translateY(-5px);
            background-color: #2980b9;
        }
    </style>
</head>
<body>

    <header id="top">
        <h1>æ•™å“¡æ¡ç”¨è©¦é¨“å¯¾ç­–ã‚¯ã‚¤ã‚º</h1>
        <p>é«˜ç­‰å­¦æ ¡å­¦ç¿’æŒ‡å°è¦é ˜ï¼ˆå¹³æˆ30å¹´å‘Šç¤ºï¼‰åœ°ç†æ­´å²ç§‘</p>
    </header>

    <main>
        <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
        <div class="card" id="quiz-card">
            <div class="quiz-header">
                <div id="quiz-progress">å•é¡Œ 1 / 5</div>
                <button class="quit-btn" id="quit-btn" onclick="handleQuitClick()">é€”ä¸­ã§çµ‚äº†ã—ã¦çµæœã¸</button>
            </div>
            <div id="question-text">ã“ã“ã«å•é¡Œæ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
            
            <div class="options-container" id="options-container">
                <!-- é¸æŠè‚¢ãŒJavaScriptã§ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>

            <div id="feedback-area">
                <h3 id="feedback-title"></h3>
                <p id="explanation-text"></p>
                <button class="action-btn" id="next-btn" onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
            </div>
        </div>

        <!-- çµæœç”»é¢ -->
        <div class="card" id="result-area">
            <h2 id="result-title">å­¦ç¿’å®Œäº†ï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚</h2>
            <p id="result-subtitle">ã‚ãªãŸã®æ­£ç­”ç‡ã¯â€¦</p>
            <div id="score-display">0 / 28</div>
            <p id="result-message"></p>
            <div id="result-action-container">
                <!-- ã“ã“ã«ãƒœã‚¿ãƒ³ãŒå‹•çš„ã«è¿½åŠ ã•ã‚Œã¾ã™ -->
            </div>

            <!-- ç©´åŸ‹ã‚æš—è¨˜ã‚«ãƒ¼ãƒ‰ä¸€è¦§ã‚¨ãƒªã‚¢ -->
            <div id="flashcards-section" style="display: none;">
                <hr style="margin: 3rem 0; border: none; border-top: 2px dashed #bdc3c7;">
                <h3>ğŸ“š å¾©ç¿’ç”¨ ç©´åŸ‹ã‚æš—è¨˜ã‚«ãƒ¼ãƒ‰</h3>
                <p style="font-size: 0.95rem; color: #666; margin-bottom: 1.5rem;">ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨æ­£è§£ãŒè¡¨ç¤ºãƒ»éè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚çŸ¥è­˜ã®å®šç€ã«æ´»ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
                <div style="margin-bottom: 1rem; display: flex; gap: 10px;">
                    <button class="toggle-all-btn" onclick="toggleAllBlanks(true)">å…¨è¡¨ç¤º</button>
                    <button class="toggle-all-btn" onclick="toggleAllBlanks(false)">å…¨éè¡¨ç¤º</button>
                </div>
                <div id="flashcards-container"></div>
            </div>
        </div>
    </main>

    <!-- ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
    <button id="back-to-top" title="ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹" onclick="scrollToTop()">â†‘</button>

    <script>
        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ï¼ˆæä¾›ã•ã‚ŒãŸå­¦ç¿’æŒ‡å°è¦é ˜ã®å†…å®¹ã«åŸºã¥ãå…¨28å•ç¶²ç¾…ç‰ˆï¼‰
        const quizData = [
            {
                question: "ã€ç¬¬1æ¬¾ ç›®æ¨™ã€‘\nã€Œï¼ˆã€€ã€€ï¼‰çš„ãªè¦‹æ–¹ãƒ»è€ƒãˆæ–¹ã‚’åƒã‹ã›ã€èª²é¡Œã‚’è¿½ç©¶ã—ãŸã‚Šè§£æ±ºã—ãŸã‚Šã™ã‚‹æ´»å‹•ã‚’é€šã—ã¦ã€åºƒã„è¦–é‡ã«ç«‹ã¡ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ã™ã‚‹å›½éš›ç¤¾ä¼šã«ä¸»ä½“çš„ã«ç”Ÿãã‚‹å¹³å’Œã§æ°‘ä¸»çš„ãªå›½å®¶åŠã³ç¤¾ä¼šã®æœ‰ç‚ºãªå½¢æˆè€…ã«å¿…è¦ãªå…¬æ°‘ã¨ã—ã¦ã®è³‡è³ªãƒ»èƒ½åŠ›ã‚’è‚²æˆã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã™ã€‚ã€",
                options: ["æ­´å²", "åœ°ç†", "ç¤¾ä¼š", "ç·åˆ"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œç¤¾ä¼šã€ã§ã™ã€‚å¹³æˆ30å¹´å‘Šç¤ºã®å­¦ç¿’æŒ‡å°è¦é ˜ã§ã¯ã€åœ°ç†æ­´å²ç§‘ãŠã‚ˆã³å…¬æ°‘ç§‘ã«ãŠã„ã¦å…±é€šã—ã¦ã€Œç¤¾ä¼šçš„ãªè¦‹æ–¹ãƒ»è€ƒãˆæ–¹ã‚’åƒã‹ã›ã€ã‚‹ã“ã¨ãŒç›®æ¨™ã®æŸ±ã¨ã—ã¦æ²ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1æ¬¾ ç›®æ¨™ï¼ˆçŸ¥è­˜ãƒ»æŠ€èƒ½ï¼‰ã€‘\nã€Œç¾ä»£ä¸–ç•Œã®åœ°åŸŸçš„ç‰¹è‰²ã¨æ—¥æœ¬åŠã³ä¸–ç•Œã®æ­´å²ã®å±•é–‹ã«é–¢ã—ã¦ç†è§£ã™ã‚‹ã¨ã¨ã‚‚ã«ã€èª¿æŸ»ã‚„è«¸è³‡æ–™ã‹ã‚‰æ§˜ã€…ãªæƒ…å ±ã‚’é©åˆ‡ã‹ã¤åŠ¹æœçš„ã«èª¿ã¹ã¾ã¨ã‚ã‚‹ï¼ˆã€€ã€€ï¼‰ã‚’èº«ã«ä»˜ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ã€",
                options: ["çŸ¥è­˜", "æŠ€èƒ½", "èƒ½åŠ›", "æ‰‹æ³•"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€ŒæŠ€èƒ½ã€ã§ã™ã€‚ã€ŒçŸ¥è­˜ãƒ»æŠ€èƒ½ã€ã®é …ç›®ã§ã¯ã€æƒ…å ±ã‚’é©åˆ‡ã‹ã¤åŠ¹æœçš„ã«èª¿ã¹ã¾ã¨ã‚ã‚‹ã€æŠ€èƒ½ã€ã‚’èº«ã«ä»˜ã‘ã‚‹ã“ã¨ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1æ¬¾ ç›®æ¨™ï¼ˆæ€è€ƒãƒ»åˆ¤æ–­ãƒ»è¡¨ç¾ï¼‰ã€‘\nã€Œåœ°ç†ã‚„æ­´å²ã«é–¢ã‚ã‚‹äº‹è±¡ã®æ„å‘³ã‚„æ„ç¾©ã€ç‰¹è‰²ã‚„ç›¸äº’ã®é–¢é€£ã‚’ã€ï¼ˆã€€ã€€ï¼‰ãªã©ã‚’æ´»ç”¨ã—ã¦å¤šé¢çš„ãƒ»å¤šè§’çš„ã«è€ƒå¯Ÿã—ãŸã‚Šã€ãã‚Œã‚‰ã‚’åŸºã«è­°è«–ã—ãŸã‚Šã™ã‚‹åŠ›ã‚’é¤Šã†ã€‚ã€",
                options: ["çŸ¥è­˜", "æ¦‚å¿µ", "æŠ€èƒ½", "è³‡æ–™"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œæ¦‚å¿µã€ã§ã™ã€‚ã€Œæ¦‚å¿µãªã©ã‚’æ´»ç”¨ã—ã¦å¤šé¢çš„ãƒ»å¤šè§’çš„ã«è€ƒå¯Ÿã€ã™ã‚‹ã“ã¨ã¯ã€æ–°ã—ã„å­¦ç¿’æŒ‡å°è¦é ˜ã®ã€Œæ€è€ƒãƒ»åˆ¤æ–­ãƒ»è¡¨ç¾ã€ã®è‚²æˆã«ãŠã„ã¦æ¥µã‚ã¦é‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1æ¬¾ ç›®æ¨™ï¼ˆä¸»ä½“çš„ã«å­¦ç¿’ã«å–ã‚Šçµ„ã‚€æ…‹åº¦ï¼‰ã€‘\nã€Œæˆ‘ãŒå›½ã®å›½åœŸã‚„æ­´å²ã«å¯¾ã™ã‚‹ï¼ˆã€€ã€€ï¼‰ã€ä»–å›½ã‚„ä»–å›½ã®æ–‡åŒ–ã‚’å°Šé‡ã™ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã«ã¤ã„ã¦ã®è‡ªè¦šã‚’æ·±ã‚ã‚‹ã€‚ã€",
                options: ["æ„›ç€", "èª‡ã‚Š", "æ„›æƒ…", "ç†è§£"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œæ„›æƒ…ã€ã§ã™ã€‚æˆ‘ãŒå›½ã®å›½åœŸã‚„æ­´å²ã«å¯¾ã™ã‚‹ã€æ„›æƒ…ã€ã€ä»–å›½ã‚„ä»–å›½ã®æ–‡åŒ–ã‚’ã€å°Šé‡ã€ã™ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã«ã¤ã„ã¦ã®è‡ªè¦šã‚’æ·±ã‚ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®ç›®æ¨™ã€‘\nã€Œåœ°ç†ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã«é–¢ã—ã¦ã€ä¸–ç•Œã®ç”Ÿæ´»æ–‡åŒ–ã®å¤šæ§˜æ€§ã‚„ã€ï¼ˆã€€ã€€ï¼‰ã€åœ°åŸŸã‚„åœ°çƒçš„èª²é¡Œã¸ã®å–çµ„ãªã©ã‚’ç†è§£ã™ã‚‹ã¨ã¨ã‚‚ã«â€¦ã€",
                options: ["ç’°å¢ƒä¿å…¨", "é˜²ç½", "è¦³å…‰", "ç”£æ¥­æ§‹é€ "],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œé˜²ç½ã€ã§ã™ã€‚åœ°ç†ç·åˆã®ç›®æ¨™ã«ã¯ã€ç”Ÿæ´»æ–‡åŒ–ã®å¤šæ§˜æ€§ã€é˜²ç½ã€åœ°çƒçš„èª²é¡Œã¸ã®å–çµ„ã«ã¤ã„ã¦ã®ç†è§£ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®ç›®æ¨™ï¼ˆæ€è€ƒãƒ»åˆ¤æ–­ãƒ»è¡¨ç¾ï¼‰ã€‘\nã€Œåœ°ç†çš„ãªèª²é¡Œã®è§£æ±ºã«å‘ã‘ã¦ï¼ˆã€€ã€€ï¼‰ã—ãŸã‚Šã™ã‚‹åŠ›ã‚„ã€è€ƒå¯Ÿã€ï¼ˆã€€ã€€ï¼‰ã—ãŸã“ã¨ã‚’åŠ¹æœçš„ã«èª¬æ˜ã—ãŸã‚Šã€ãã‚Œã‚‰ã‚’åŸºã«è­°è«–ã—ãŸã‚Šã™ã‚‹åŠ›ã‚’é¤Šã†ã€‚ã€",
                options: ["åˆ†æ", "ç·åˆ", "æ§‹æƒ³", "æ¨è«–"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œæ§‹æƒ³ã€ã§ã™ã€‚èª²é¡Œè§£æ±ºã«å‘ã‘ã¦ã€æ§‹æƒ³ã€ã—ã€ãã‚Œã‚’èª¬æ˜ãƒ»è­°è«–ã™ã‚‹åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®å†…å®¹ã€‘\nã€Œæ—¥å¸¸ç”Ÿæ´»ã®ä¸­ã§è¦‹ã‚‰ã‚Œã‚‹æ§˜ã€…ãªåœ°å›³ã®èª­å›³ãªã©ã‚’åŸºã«ã€åœ°å›³ã‚„ï¼ˆã€€ã€€ï¼‰ã®å½¹å‰²ã‚„æœ‰ç”¨æ€§ãªã©ã«ã¤ã„ã¦ç†è§£ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["å…¨åœ°çƒæ¸¬ä½ã‚·ã‚¹ãƒ†ãƒ ", "è¡›æ˜Ÿç”»åƒ", "ç©ºä¸­å†™çœŸ", "åœ°ç†æƒ…å ±ã‚·ã‚¹ãƒ†ãƒ "],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œåœ°ç†æƒ…å ±ã‚·ã‚¹ãƒ†ãƒ ã€ã§ã™ã€‚åœ°ç†æƒ…å ±ã‚·ã‚¹ãƒ†ãƒ ï¼ˆGISï¼‰ã®å½¹å‰²ã‚„æœ‰ç”¨æ€§ã«ã¤ã„ã¦ç†è§£ã™ã‚‹ã“ã¨ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®å†…å®¹æ§‹æˆã€‘\nå†…å®¹ã®å¤§ããªæŸ±ã®ä¸€ã¤ã§ã‚ã‚‹Cã¯ã€ã€Œï¼ˆã€€ã€€ï¼‰åœ°åŸŸã¥ãã‚Šã¨ç§ãŸã¡ã€ã§ã‚ã‚‹ã€‚",
                options: ["ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª", "æŒç¶šå¯èƒ½ãª", "ä¸»ä½“çš„ãª", "å‰µé€ çš„ãª"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€ŒæŒç¶šå¯èƒ½ãªã€ã§ã™ã€‚åœ°ç†ç·åˆã¯ã€ŒA åœ°å›³ã‚„åœ°ç†æƒ…å ±ã‚·ã‚¹ãƒ†ãƒ ã§æ‰ãˆã‚‹ç¾ä»£ä¸–ç•Œã€ã€ŒB å›½éš›ç†è§£ã¨å›½éš›å”åŠ›ã€ã€ŒC æŒç¶šå¯èƒ½ãªåœ°åŸŸã¥ãã‚Šã¨ç§ãŸã¡ã€ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®å†…å®¹ã®å–æ‰±ã„ã€‘\nåœ°ç†çš„æŠ€èƒ½ã‚’èº«ã«ä»˜ã‘ã‚‹ãŸã‚ã®æŒ‡å°ã«ãŠã„ã¦ã€ååˆ†ã«æ´»ç”¨ã™ã‚‹ã“ã¨ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã‚‹æ•™ç§‘ç”¨å›³æ›¸ã¯ã©ã‚Œã‹ã€‚",
                options: ["åœ°å›³å¸³", "åœ°å›³", "è³‡æ–™é›†", "çµ±è¨ˆ"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œåœ°å›³ã€ã§ã™ã€‚å­¦ç¿’æŒ‡å°è¦é ˜ä¸Šã¯ã€Œæ•™ç§‘ç”¨å›³æ›¸ã€åœ°å›³ã€ã‚’ååˆ†ã«æ´»ç”¨ã™ã‚‹ã“ã¨ã€ã¨è¡¨è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬1 åœ°ç†ç·åˆã®å†…å®¹ã®å–æ‰±ã„ã€‘\nã€Œå­¦ç¿’éç¨‹ã§ã¯å–ã‚Šæ‰±ã†å†…å®¹ã®ï¼ˆã€€ã€€ï¼‰ã‚’è¸ã¾ãˆã‚‹ã“ã¨ã¨ã—ã€æ”¿æ²»çš„ã€çµŒæ¸ˆçš„ã€ç”Ÿç‰©çš„ã€åœ°å­¦çš„ãªäº‹è±¡ãªã©ã‚‚å¿…è¦ã«å¿œã˜ã¦æ‰±ã†ã“ã¨ã‚‚ã§ãã‚‹ãŒâ€¦ã€",
                options: ["æ­´å²çš„èƒŒæ™¯", "åœ°ç†çš„æ¡ä»¶", "å›½éš›çš„å‹•å‘", "åœ°åŸŸçš„ç‰¹è‰²"],
                correctAnswer: 0,
                explanation: "æ­£è§£ã¯ã€Œæ­´å²çš„èƒŒæ™¯ã€ã§ã™ã€‚åœ°ç†ã®å­¦ç¿’ã§ã‚ã£ã¦ã‚‚ã€å–ã‚Šæ‰±ã†å†…å®¹ã®ã€æ­´å²çš„èƒŒæ™¯ã€ã‚’è¸ã¾ãˆã‚‹ã‚ˆã†ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬2 åœ°ç†æ¢ç©¶ã®ç›®æ¨™ã€‘\nã€Œåœ°ç†ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã«é–¢ã—ã¦ã€ä¸–ç•Œã®ç©ºé–“çš„ãªè«¸äº‹è±¡ã®ï¼ˆã€€ã€€ï¼‰ã€å‚¾å‘æ€§ã‚„ã€ä¸–ç•Œã®è«¸åœ°åŸŸã®åœ°åŸŸçš„ç‰¹è‰²ã‚„èª²é¡Œãªã©ã‚’ç†è§£ã™ã‚‹ã¨ã¨ã‚‚ã«â€¦ã€",
                options: ["å¤šæ§˜æ€§", "è¦å‰‡æ€§", "æ™®éæ€§", "ç‰¹æ®Šæ€§"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œè¦å‰‡æ€§ã€ã§ã™ã€‚ç©ºé–“çš„ãªè«¸äº‹è±¡ã®ã€è¦å‰‡æ€§ã€ã‚„å‚¾å‘æ€§ã«ã¤ã„ã¦ç†è§£ã™ã‚‹ã“ã¨ãŒç›®æ¨™ã«æ²ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬2 åœ°ç†æ¢ç©¶ã®å†…å®¹æ§‹æˆã€‘\nå†…å®¹ã®å¤§ããªæŸ±ã®ä¸€ã¤ã§ã‚ã‚‹Aã¯ã€ã€Œç¾ä»£ä¸–ç•Œã®ï¼ˆã€€ã€€ï¼‰çš„è€ƒå¯Ÿã€ã§ã‚ã‚‹ã€‚",
                options: ["ç·åˆ", "ç³»çµ±åœ°ç†", "åœ°èªŒ", "ä¸»é¡Œ"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œç³»çµ±åœ°ç†ã€ã§ã™ã€‚åœ°ç†æ¢ç©¶ã¯ã€ŒA ç¾ä»£ä¸–ç•Œã®ç³»çµ±åœ°ç†çš„è€ƒå¯Ÿã€ã€ŒB ç¾ä»£ä¸–ç•Œã®åœ°èªŒçš„è€ƒå¯Ÿã€ã€ŒC ç¾ä»£ä¸–ç•Œã«ãŠã‘ã‚‹ã“ã‚Œã‹ã‚‰ã®æ—¥æœ¬ã®å›½åœŸåƒã€ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3 æ­´å²ç·åˆã®ç›®æ¨™ã€‘\nã€Œï¼ˆã€€ã€€ï¼‰ã®æ­´å²ã®å¤‰åŒ–ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã«ã¤ã„ã¦ã€ä¸–ç•Œã¨ãã®ä¸­ã®æ—¥æœ¬ã‚’åºƒãç›¸äº’çš„ãªè¦–é‡ã‹ã‚‰æ‰ãˆâ€¦ã€",
                options: ["å¤ä»£ã‹ã‚‰ç¾ä»£", "å‰è¿‘ä»£", "è¿‘ä¸–ä»¥é™", "è¿‘ç¾ä»£"],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œè¿‘ç¾ä»£ã€ã§ã™ã€‚æ­´å²ç·åˆã¯ä¸»ã«ã€è¿‘ç¾ä»£ã€ã®æ­´å²ã®å¤‰åŒ–ã«ã¤ã„ã¦ã€ä¸–ç•Œã¨æ—¥æœ¬ã®é–¢ä¿‚æ€§ã«ç€ç›®ã—ã¦å­¦ç¿’ã—ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3 æ­´å²ç·åˆã®ç›®æ¨™ï¼ˆä¸»ä½“çš„ã«å­¦ç¿’ã«å–ã‚Šçµ„ã‚€æ…‹åº¦ï¼‰ã€‘\nã€Œå¤šé¢çš„ãƒ»å¤šè§’çš„ãªè€ƒå¯Ÿã‚„æ·±ã„ç†è§£ã‚’é€šã—ã¦æ¶µé¤Šã•ã‚Œã‚‹ï¼ˆã€€ã€€ï¼‰ã¨ã—ã¦ã®è‡ªè¦šã€æˆ‘ãŒå›½ã®æ­´å²ã«å¯¾ã™ã‚‹æ„›æƒ…â€¦ã‚’æ·±ã‚ã‚‹ã€‚ã€",
                options: ["å›½éš›äºº", "ä¸»æ¨©è€…", "æ—¥æœ¬å›½æ°‘", "å…¬æ°‘"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œæ—¥æœ¬å›½æ°‘ã€ã§ã™ã€‚ã‚ˆã‚Šã‚ˆã„ç¤¾ä¼šã®å®Ÿç¾ã‚„ã€æ—¥æœ¬å›½æ°‘ã¨ã—ã¦ã®è‡ªè¦šã€ä»–å›½æ–‡åŒ–ã®å°Šé‡ã®å¤§åˆ‡ã•ã®è‡ªè¦šã‚’æ·±ã‚ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3 æ­´å²ç·åˆã®å†…å®¹æ§‹æˆã€‘\nå†…å®¹ã®å¤§ããªæŸ±ã®ä¸€ã¤ã§ã‚ã‚‹Cã¯ã€ã€Œå›½éš›ç§©åºã®å¤‰åŒ–ã‚„ï¼ˆã€€ã€€ï¼‰ã¨ç§ãŸã¡ã€ã§ã‚ã‚‹ã€‚",
                options: ["å¤§è¡†åŒ–", "è¿‘ä»£åŒ–", "æ°‘ä¸»åŒ–", "æƒ…å ±åŒ–"],
                correctAnswer: 0,
                explanation: "æ­£è§£ã¯ã€Œå¤§è¡†åŒ–ã€ã§ã™ã€‚æ­´å²ç·åˆã®å†…å®¹ã¯ã€ŒB è¿‘ä»£åŒ–ã¨ç§ãŸã¡ã€ã€ŒC å›½éš›ç§©åºã®å¤‰åŒ–ã‚„å¤§è¡†åŒ–ã¨ç§ãŸã¡ã€ã€ŒD ã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ã¨ç§ãŸã¡ã€ç­‰ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬4 æ—¥æœ¬å²æ¢ç©¶ã®ç›®æ¨™ã€‘\nã€Œæˆ‘ãŒå›½ã®æ­´å²ã®å±•é–‹ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã«ã¤ã„ã¦ã€åœ°ç†çš„æ¡ä»¶ã‚„ä¸–ç•Œã®æ­´å²ã¨é–¢é€£ä»˜ã‘ãªãŒã‚‰ï¼ˆã€€ã€€ï¼‰ã«æ‰ãˆã¦ç†è§£ã™ã‚‹ã¨ã¨ã‚‚ã«â€¦ã€",
                options: ["å®¢è¦³çš„", "å¤šé¢çš„", "ç·åˆçš„", "æ§‹é€ çš„"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œç·åˆçš„ã€ã§ã™ã€‚æ—¥æœ¬å²æ¢ç©¶ã§ã¯ã€åœ°ç†çš„æ¡ä»¶ã‚„ä¸–ç•Œã®æ­´å²ã¨é–¢é€£ä»˜ã‘ãªãŒã‚‰ã€ç·åˆçš„ã€ã«æ‰ãˆã¦ç†è§£ã™ã‚‹ã“ã¨ãŒé‡è¦è¦–ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬4 æ—¥æœ¬å²æ¢ç©¶ã®å†…å®¹æ§‹æˆã€‘\nå†…å®¹ã®å¤§ããªæŸ±ã®ä¸€ã¤ã§ã‚ã‚‹Aã¯ã€ã€ŒåŸå§‹ãƒ»å¤ä»£ã®æ—¥æœ¬ã¨ï¼ˆã€€ã€€ï¼‰ã€ã§ã‚ã‚‹ã€‚",
                options: ["æ±ã‚¢ã‚¸ã‚¢", "å¤§é™¸", "æœé®®åŠå³¶", "ã‚¢ã‚¸ã‚¢è«¸å›½"],
                correctAnswer: 0,
                explanation: "æ­£è§£ã¯ã€Œæ±ã‚¢ã‚¸ã‚¢ã€ã§ã™ã€‚æ—¥æœ¬å²æ¢ç©¶ã¯ã€ŒA åŸå§‹ãƒ»å¤ä»£ã®æ—¥æœ¬ã¨æ±ã‚¢ã‚¸ã‚¢ã€ã‹ã‚‰å§‹ã¾ã‚Šã€ä¸–ç•Œã¨ã®é–¢ä¿‚æ€§ã‚’è»¸ã«å±•é–‹ã—ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬4 æ—¥æœ¬å²æ¢ç©¶ã®å†…å®¹ã®å–æ‰±ã„ï¼ˆæ–‡åŒ–ã«é–¢ã™ã‚‹æŒ‡å°ï¼‰ã€‘\nã€Œè¡£é£Ÿä½ã‚„é¢¨ç¿’ãƒ»ä¿¡ä»°ãªã©ã®ï¼ˆã€€ã€€ï¼‰ã«ã¤ã„ã¦ã‚‚ã€æ™‚ä»£ã®ç‰¹è‰²ã‚„åœ°åŸŸç¤¾ä¼šã®æ§˜å­ãªã©ã¨é–¢é€£ä»˜ã‘â€¦æ‰±ã†ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["ä¼çµ±æ–‡åŒ–", "å¤§è¡†æ–‡åŒ–", "ç²¾ç¥æ–‡åŒ–", "ç”Ÿæ´»æ–‡åŒ–"],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œç”Ÿæ´»æ–‡åŒ–ã€ã§ã™ã€‚æ”¿æ²»ã‚„é«˜é›…ãªæ–‡åŒ–ã ã‘ã§ãªãã€è¡£é£Ÿä½ãªã©ã®ã€ç”Ÿæ´»æ–‡åŒ–ã€ã‚‚é‡è¦–ã—ã¦æ‰±ã†ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬4 æ—¥æœ¬å²æ¢ç©¶ã®å†…å®¹ã®å–æ‰±ã„ï¼ˆæ–‡åŒ–ã«é–¢ã™ã‚‹æŒ‡å°ï¼‰ã€‘\nå‰å•ã®ç”Ÿæ´»æ–‡åŒ–ãªã©ã‚’æ‰±ã†éš›ã€ã€Œï¼ˆã€€ã€€ï¼‰ã‚„è€ƒå¤å­¦ãªã©ã®æˆæœã®æ´»ç”¨ã‚’å›³ã‚ŠãªãŒã‚‰æ‰±ã†ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["äººé¡å­¦", "ç¤¾ä¼šå­¦", "åœ°ç†å­¦", "æ°‘ä¿—å­¦"],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œæ°‘ä¿—å­¦ã€ã§ã™ã€‚é¢¨ç¿’ã‚„ä¿¡ä»°ãªã©ã®ç”Ÿæ´»æ–‡åŒ–ã®ç†è§£ã‚’æ·±ã‚ã‚‹ãŸã‚ã€ã€æ°‘ä¿—å­¦ã€ã‚„è€ƒå¤å­¦ã®æˆæœã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬5 ä¸–ç•Œå²æ¢ç©¶ã®ç›®æ¨™ã€‘\nã€Œä¸–ç•Œã®æ­´å²ã®ï¼ˆã€€ã€€ï¼‰ã¨å±•é–‹ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã«ã¤ã„ã¦ã€åœ°ç†çš„æ¡ä»¶ã‚„æ—¥æœ¬ã®æ­´å²ã¨é–¢é€£ä»˜ã‘ãªãŒã‚‰ç†è§£ã™ã‚‹ã¨ã¨ã‚‚ã«â€¦ã€",
                options: ["å¤§ããªæ çµ„ã¿", "æ­´å²çš„èƒŒæ™¯", "æ§‹é€ çš„ç‰¹è³ª", "ç©ºé–“çš„åºƒãŒã‚Š"],
                correctAnswer: 0,
                explanation: "æ­£è§£ã¯ã€Œå¤§ããªæ çµ„ã¿ã€ã§ã™ã€‚ä¸–ç•Œå²æ¢ç©¶ã§ã¯ã€ä¸–ç•Œã®æ­´å²ã®ã€å¤§ããªæ çµ„ã¿ã€ã¨å±•é–‹ã«é–¢ã‚ã‚‹è«¸äº‹è±¡ã‚’æ—¥æœ¬ã®æ­´å²ã¨é–¢é€£ä»˜ã‘ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬5 ä¸–ç•Œå²æ¢ç©¶ã®å†…å®¹ã®å–æ‰±ã„ã€‘\nã€Œæ´»ç”¨ã™ã‚‹è³‡æ–™ã®é¸æŠã«éš›ã—ã¦ã¯ã€ç”Ÿå¾’ã®èˆˆå‘³ãƒ»é–¢å¿ƒã€ï¼ˆã€€ã€€ï¼‰ã®å®Ÿæ…‹ãªã©ã«ååˆ†é…æ…®ã—ã¦è¡Œã†ã“ã¨ã€‚ã€",
                options: ["å­¦æ ¡ã‚„åœ°åŸŸ", "ç¾ä»£ç¤¾ä¼š", "å›½éš›ç¤¾ä¼š", "å­¦ç¿’é€²åº¦"],
                correctAnswer: 0,
                explanation: "æ­£è§£ã¯ã€Œå­¦æ ¡ã‚„åœ°åŸŸã€ã§ã™ã€‚è³‡æ–™é¸æŠã®éš›ã¯ã€å…¨å›½ä¸€å¾‹ã§ã¯ãªãã€å„ã€å­¦æ ¡ã‚„åœ°åŸŸã€ã®å®Ÿæ…‹ã«ã‚‚é…æ…®ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ æŒ‡å°è¨ˆç”»ã®ä½œæˆã€‘\nã€Œå˜å…ƒãªã©å†…å®¹ã‚„æ™‚é–“ã®ã¾ã¨ã¾ã‚Šã‚’è¦‹é€šã—ã¦ï¼Œãã®ä¸­ã§è‚²ã‚€è³‡è³ªãƒ»èƒ½åŠ›ã®è‚²æˆã«å‘ã‘ã¦ï¼Œç”Ÿå¾’ã®ä¸»ä½“çš„ãƒ»ï¼ˆã€€ã€€ï¼‰ã§æ·±ã„å­¦ã³ã®å®Ÿç¾ã‚’å›³ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["å”åƒçš„", "å¯¾è©±çš„", "å®Ÿè·µçš„", "æ¢ç©¶çš„"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œå¯¾è©±çš„ã€ã§ã™ã€‚æ–°å­¦ç¿’æŒ‡å°è¦é ˜å…¨ä½“ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã‚ã‚‹ã€Œä¸»ä½“çš„ãƒ»å¯¾è©±çš„ã§æ·±ã„å­¦ã³ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã®è¦–ç‚¹ï¼‰ã€ãŒã“ã“ã§ã‚‚å¼·èª¿ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ æŒ‡å°è¨ˆç”»ã®ä½œæˆã€‘\nåœ°ç†æ­´å²ç§‘ã®ç›®æ¨™ã‚’é”æˆã™ã‚‹ãŸã‚ã€ç‰¹ã«é–¢é€£ã‚’å›³ã‚‹ã“ã¨ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã‚‹æ•™ç§‘ã¯ã©ã‚Œã‹ã€‚",
                options: ["å›½èªç§‘", "ç†ç§‘", "å¤–å›½èªç§‘", "å…¬æ°‘ç§‘"],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œå…¬æ°‘ç§‘ã€ã§ã™ã€‚ã€Œåœ°ç†æ­´å²ç§‘ã®ç›®æ¨™ã‚’é”æˆã™ã‚‹ãŸã‚ï¼Œå…¬æ°‘ç§‘ãªã©ã¨ã®é–¢é€£ã‚’å›³ã‚‹ã¨ã¨ã‚‚ã«â€¦ã€ã¨æ˜è¨˜ã•ã‚Œã€ç¤¾ä¼šç³»æ•™ç§‘ã®é€£æºãŒé‡è¦–ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ æŒ‡å°è¨ˆç”»ã®ä½œæˆï¼ˆå±¥ä¿®æ§‹é€ ï¼‰ã€‘\nå„ç§‘ç›®ã®å±¥ä¿®æ§‹é€ ã«ã¤ã„ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "ã€Œåœ°ç†ç·åˆã€ã¨ã€Œæ—¥æœ¬å²æ¢ç©¶ã€ãŒå¿…å±¥ä¿®ç§‘ç›®ã§ã‚ã‚‹ã€‚",
                    "ã€Œåœ°ç†ç·åˆã€ã¨ã€Œæ­´å²ç·åˆã€ã‚’å±¥ä¿®ã—ãŸå¾Œã«ã€é¸æŠç§‘ç›®ã§ã‚ã‚‹æ¢ç©¶ç§‘ç›®ã‚’å±¥ä¿®ã™ã‚‹ã€‚",
                    "å…¨ã¦ã®ç”Ÿå¾’ãŒã€Œä¸–ç•Œå²æ¢ç©¶ã€ã‚’å±¥ä¿®ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚",
                    "ã€Œæ­´å²ç·åˆã€ã¯ã€Œæ—¥æœ¬å²æ¢ç©¶ã€ã‚’å±¥ä¿®ã—ãŸç”Ÿå¾’ã®ã¿é¸æŠã§ãã‚‹ã€‚"
                ],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œã€åœ°ç†ç·åˆã€ã¨ã€æ­´å²ç·åˆã€ã‚’å±¥ä¿®ã—ãŸå¾Œã«ã€é¸æŠç§‘ç›®ã§ã‚ã‚‹æ¢ç©¶ç§‘ç›®ã‚’å±¥ä¿®ã™ã‚‹ã€ã§ã™ã€‚å¿…å±¥ä¿®ç§‘ç›®ã¯ã€Œåœ°ç†ç·åˆã€ã¨ã€Œæ­´å²ç·åˆã€ã§ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ æŒ‡å°è¨ˆç”»ã®ä½œæˆã€‘\nã€Œï¼ˆã€€ã€€ï¼‰ç”Ÿå¾’ãªã©ã«ã¤ã„ã¦ã¯ï¼Œå­¦ç¿’æ´»å‹•ã‚’è¡Œã†å ´åˆã«ç”Ÿã˜ã‚‹å›°é›£ã•ã«å¿œã˜ãŸæŒ‡å°å†…å®¹ã‚„æŒ‡å°æ–¹æ³•ã®å·¥å¤«ã‚’è¨ˆç”»çš„ï¼Œçµ„ç¹”çš„ã«è¡Œã†ã“ã¨ã€‚ã€",
                options: ["ç‰¹åˆ¥ãªæ”¯æ´ã‚’è¦ã™ã‚‹", "å¸°å›½ã—ãŸ", "å¤–å›½ã«ã¤ãªãŒã‚‹", "éšœå®³ã®ã‚ã‚‹"],
                correctAnswer: 3,
                explanation: "æ­£è§£ã¯ã€Œéšœå®³ã®ã‚ã‚‹ã€ã§ã™ã€‚ç‰¹åˆ¥ãªæ”¯æ´ã«é–¢ã™ã‚‹è¨˜è¿°ã¨ã—ã¦ã€ã€Œéšœå®³ã®ã‚ã‚‹ç”Ÿå¾’ãªã©ã«ã¤ã„ã¦ã¯â€¦è¨ˆç”»çš„ï¼Œçµ„ç¹”çš„ã«è¡Œã†ã“ã¨ã€ã¨æ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ å†…å®¹ã®å–æ‰±ã„ï¼ˆè¦‹è§£ã®å¤šæ§˜æ€§ï¼‰ã€‘\nã€Œå¤šæ§˜ãªè¦‹è§£ã®ã‚ã‚‹äº‹æŸ„ã€æœªç¢ºå®šãªäº‹æŸ„ã‚’å–ã‚Šä¸Šã’ã‚‹å ´åˆã«ã¯ï¼ˆä¸­ç•¥ï¼‰ç”Ÿå¾’ãŒå¤šé¢çš„ãƒ»å¤šè§’çš„ã«è€ƒå¯Ÿã—ãŸã‚Šï¼Œäº‹å®Ÿã‚’å®¢è¦³çš„ã«æ‰ãˆã€ï¼ˆã€€ã€€ï¼‰ã«åˆ¤æ–­ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚’å¦¨ã’ã‚‹ã“ã¨ã®ãªã„ã‚ˆã†ç•™æ„ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["ä¸»ä½“çš„", "è«–ç†çš„", "å…¬æ­£", "å¤šè§’çš„"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œå…¬æ­£ã€ã§ã™ã€‚ç‰¹å®šã®äº‹æŸ„ã‚’å¼·èª¿ã—éãã‚‹ãªã©ã®åã£ãŸå–æ‰±ã„ã‚’é¿ã‘ã€ç”Ÿå¾’ãŒäº‹å®Ÿã‚’å®¢è¦³çš„ã«æ‰ãˆã€ã€å…¬æ­£ã€ã«åˆ¤æ–­ã§ãã‚‹ã‚ˆã†ã«ç•™æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ å†…å®¹ã®å–æ‰±ã„ï¼ˆæƒ…å ±ã®åé›†ï¼‰ã€‘\nã€Œèª²é¡Œã®è¿½ç©¶ã‚„è§£æ±ºã®è¦‹é€šã—ã‚’ã‚‚ã£ã¦ç”Ÿå¾’ãŒä¸»ä½“çš„ã«æƒ…å ±æ‰‹æ®µã‚’æ´»ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã¨ã‚‚ã«ã€ï¼ˆã€€ã€€ï¼‰ã®æŒ‡å°ã«ã‚‚ç•™æ„ã™ã‚‹ã“ã¨ã€‚ã€",
                options: ["æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", "æƒ…å ±ãƒ¢ãƒ©ãƒ«", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°", "ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»ãƒªãƒ†ãƒ©ã‚·ãƒ¼"],
                correctAnswer: 1,
                explanation: "æ­£è§£ã¯ã€Œæƒ…å ±ãƒ¢ãƒ©ãƒ«ã€ã§ã™ã€‚ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚„æƒ…å ±é€šä¿¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç©æ¥µçš„ã«æ´»ç”¨ã™ã‚‹ã«ã‚ãŸã‚Šã€ã€æƒ…å ±ãƒ¢ãƒ©ãƒ«ã€ã®æŒ‡å°ã«ç•™æ„ã™ã‚‹ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "ã€ç¬¬3æ¬¾ å†…å®¹ã®æŒ‡å°ã«å½“ãŸã£ã¦ã®é…æ…®äº‹é …ã€‘\nã€Œæ•™è‚²åŸºæœ¬æ³•ç¬¬14æ¡åŠã³ç¬¬15æ¡ã®è¦å®šã«åŸºã¥ãï¼Œé©åˆ‡ã«è¡Œã†ã‚ˆã†ç‰¹ã«æ…é‡ã«é…æ…®ã—ã¦ï¼Œæ”¿æ²»åŠã³ï¼ˆã€€ã€€ï¼‰ã«é–¢ã™ã‚‹æ•™è‚²ã‚’è¡Œã†ã‚‚ã®ã¨ã™ã‚‹ã€‚ã€",
                options: ["çµŒæ¸ˆ", "é“å¾³", "å®—æ•™", "äººæ¨©"],
                correctAnswer: 2,
                explanation: "æ­£è§£ã¯ã€Œå®—æ•™ã€ã§ã™ã€‚æ•™è‚²åŸºæœ¬æ³•ç¬¬14æ¡ï¼ˆæ”¿æ²»æ•™è‚²ï¼‰åŠã³ç¬¬15æ¡ï¼ˆå®—æ•™æ•™è‚²ï¼‰ã«åŸºã¥ãã€ç‰¹å®šã®å…šæ´¾ã‚„å®—æ•™ã®ãŸã‚ã®æ•™è‚²ã‚’é¿ã‘ã¤ã¤ã€ã“ã‚Œã‚‰ã«é–¢ã™ã‚‹æ•™è‚²ã‚’é©åˆ‡ã«è¡Œã†ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let currentQuizList = []; // ç¾åœ¨å‡ºé¡Œä¸­ã®å•é¡Œãƒªã‚¹ãƒˆ
        let reviewQueue = []; // é–“é•ãˆãŸå•é¡Œã®ã‚­ãƒ¥ãƒ¼
        let isReviewMode = false; // å¾©ç¿’ãƒ¢ãƒ¼ãƒ‰ã®ãƒ•ãƒ©ã‚°
        let isAnswered = false; // ç¾åœ¨ã®å•é¡ŒãŒè§£ç­”æ¸ˆã¿ã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°
        let quitConfirmTimeout; // çµ‚äº†ç¢ºèªã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

        // DOMè¦ç´ ã®å–å¾—
        const progressEl = document.getElementById('quiz-progress');
        const questionEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackTitle = document.getElementById('feedback-title');
        const explanationText = document.getElementById('explanation-text');
        const nextBtn = document.getElementById('next-btn');
        const quizCard = document.getElementById('quiz-card');
        const resultArea = document.getElementById('result-area');
        const scoreDisplay = document.getElementById('score-display');
        const resultMessage = document.getElementById('result-message');
        const resultTitle = document.getElementById('result-title');
        const resultSubtitle = document.getElementById('result-subtitle');
        const actionContainer = document.getElementById('result-action-container');
        const backToTopBtn = document.getElementById('back-to-top');
        const quitBtn = document.getElementById('quit-btn');
        const flashcardsSection = document.getElementById('flashcards-section');

        // ã‚¯ã‚¤ã‚ºã®åˆæœŸåŒ–ãƒ»é–‹å§‹
        function initQuiz() {
            currentQuizList = [...quizData];
            reviewQueue = [];
            isReviewMode = false;
            currentQuestionIndex = 0;
            score = 0;
            isAnswered = false;
            resetQuitButton();
            
            resultArea.style.display = 'none';
            flashcardsSection.style.display = 'none';
            quizCard.style.display = 'block';
            nextBtn.textContent = "æ¬¡ã®å•é¡Œã¸";
            
            if (resultTitle && resultSubtitle) {
                resultTitle.textContent = "å­¦ç¿’å®Œäº†ï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚";
                resultSubtitle.style.display = "block";
            }

            loadQuestion();
        }

        // ã‚¯ã‚¤ã‚ºã®è¡¨ç¤º
        function loadQuestion() {
            const currentQuiz = currentQuizList[currentQuestionIndex];
            isAnswered = false;
            resetQuitButton();
            
            // é€²æ—ã¨å•é¡Œæ–‡ã®æ›´æ–°
            if (isReviewMode) {
                progressEl.textContent = `å¾©ç¿’ãƒ¢ãƒ¼ãƒ‰ï¼šå•é¡Œ ${currentQuestionIndex + 1} / ${currentQuizList.length}`;
            } else {
                progressEl.textContent = `å•é¡Œ ${currentQuestionIndex + 1} / ${currentQuizList.length}`;
            }
            questionEl.textContent = currentQuiz.question;
            
            // é¸æŠè‚¢ã®ã‚¯ãƒªã‚¢ã¨ç”Ÿæˆ
            optionsContainer.innerHTML = '';
            currentQuiz.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = `${index + 1}. ${option}`;
                button.classList.add('option-btn');
                button.onclick = () => checkAnswer(index, button);
                optionsContainer.appendChild(button);
            });

            // è§£èª¬ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
            feedbackArea.style.display = 'none';
        }

        // è§£ç­”ãƒã‚§ãƒƒã‚¯
        function checkAnswer(selectedIndex, selectedButton) {
            if (isAnswered) return; // äºŒé‡ã‚¯ãƒªãƒƒã‚¯é˜²æ­¢
            isAnswered = true;

            const currentQuiz = currentQuizList[currentQuestionIndex];
            const optionButtons = document.querySelectorAll('.option-btn');
            
            // å…¨ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            optionButtons.forEach(btn => btn.disabled = true);

            // æ­£èª¤åˆ¤å®š
            if (selectedIndex === currentQuiz.correctAnswer) {
                selectedButton.classList.add('correct');
                feedbackTitle.textContent = "â­• æ­£è§£ï¼";
                feedbackTitle.className = "feedback-correct";
                if (!isReviewMode) {
                    score++;
                }
            } else {
                selectedButton.classList.add('incorrect');
                // æ­£è§£ã®ãƒœã‚¿ãƒ³ã‚’å¼·èª¿
                optionButtons[currentQuiz.correctAnswer].classList.add('correct');
                feedbackTitle.textContent = "âŒ ä¸æ­£è§£...";
                feedbackTitle.className = "feedback-incorrect";
                
                // é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
                reviewQueue.push(currentQuiz);
            }

            // è§£èª¬ã®è¡¨ç¤º
            explanationText.textContent = currentQuiz.explanation;
            feedbackArea.style.display = 'block';

            // æœ€çµ‚å•é¡Œã®å ´åˆã¯ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´
            if (currentQuestionIndex === currentQuizList.length - 1) {
                if (isReviewMode && reviewQueue.length > 0) {
                    nextBtn.textContent = "é–“é•ãˆãŸå•é¡Œã‚’ã‚‚ã†ä¸€åº¦å¾©ç¿’ã™ã‚‹";
                } else {
                    nextBtn.textContent = "çµæœã‚’è¦‹ã‚‹";
                }
            } else {
                nextBtn.textContent = "æ¬¡ã®å•é¡Œã¸";
            }
        }

        // æ¬¡ã®å•é¡Œã¸ï¼ˆã¾ãŸã¯çµæœç”»é¢ãƒ»æ¬¡ã®å¾©ç¿’ãƒ©ã‚¦ãƒ³ãƒ‰ã¸ï¼‰
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizList.length) {
                loadQuestion();
            } else {
                // ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†
                if (isReviewMode) {
                    if (reviewQueue.length > 0) {
                        // ã¾ã é–“é•ãˆãŸå•é¡ŒãŒã‚ã‚‹å ´åˆã¯æ¬¡ã®å¾©ç¿’ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
                        startReviewRound();
                    } else {
                        // å¾©ç¿’å®Œäº†
                        showPerfectResult();
                    }
                } else {
                    // åˆå›ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†
                    showResult();
                }
            }
        }

        // å¾©ç¿’ãƒ©ã‚¦ãƒ³ãƒ‰ã®é–‹å§‹
        function startReviewRound() {
            isReviewMode = true;
            currentQuizList = [...reviewQueue];
            reviewQueue = []; // æ–°ã—ã„ãƒ©ã‚¦ãƒ³ãƒ‰ã®ãŸã‚ã«ã‚­ãƒ¥ãƒ¼ã‚’ç©ºã«ã™ã‚‹
            currentQuestionIndex = 0;
            isAnswered = false;
            resetQuitButton();
            
            resultArea.style.display = 'none';
            flashcardsSection.style.display = 'none';
            quizCard.style.display = 'block';
            nextBtn.textContent = "æ¬¡ã®å•é¡Œã¸";
            
            loadQuestion();
        }

        // çµæœç”»é¢ã®è¡¨ç¤º
        function showResult() {
            quizCard.style.display = 'none';
            resultArea.style.display = 'block';
            scoreDisplay.textContent = `${score} / ${quizData.length}`;
            
            actionContainer.innerHTML = ''; // ãƒœã‚¿ãƒ³é ˜åŸŸã‚’åˆæœŸåŒ–

            let msg = "";
            const percentage = score / quizData.length;
            if (percentage === 1) {
                msg = "å…¨å•æ­£è§£ï¼å­¦ç¿’æŒ‡å°è¦é ˜ã®èª­ã¿è¾¼ã¿ã¯å®Œç’§ã§ã™ã­ï¼";
                
                const restartBtn = document.createElement('button');
                restartBtn.className = 'action-btn';
                restartBtn.textContent = "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™";
                restartBtn.onclick = initQuiz;
                actionContainer.appendChild(restartBtn);
            } else {
                if (percentage >= 0.6) {
                    msg = "ç´ æ™´ã‚‰ã—ã„æˆç¸¾ã§ã™ï¼é–“é•ãˆãŸç®‡æ‰€ã‚’å¾©ç¿’ã—ã¦æœ¬ç•ªã«å‚™ãˆã¾ã—ã‚‡ã†ã€‚";
                } else {
                    msg = "å­¦ç¿’æŒ‡å°è¦é ˜ã‚’ã‚‚ã†ä¸€åº¦ç¢ºèªã—ã€é »å‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ¼ã•ãˆã¾ã—ã‚‡ã†ã€‚";
                }
                
                const reviewBtn = document.createElement('button');
                reviewBtn.className = 'action-btn';
                reviewBtn.style.backgroundColor = 'var(--incorrect-color)';
                reviewBtn.textContent = `é–“é•ãˆãŸå•é¡Œï¼ˆ${reviewQueue.length}å•ï¼‰ã‚’å¾©ç¿’ã™ã‚‹`;
                reviewBtn.onclick = startReviewRound;
                actionContainer.appendChild(reviewBtn);

                const restartBtn = document.createElement('button');
                restartBtn.className = 'action-btn';
                restartBtn.style.marginTop = '1rem';
                restartBtn.textContent = "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™";
                restartBtn.onclick = initQuiz;
                actionContainer.appendChild(restartBtn);
            }
            resultMessage.textContent = msg;
            
            // æš—è¨˜ã‚«ãƒ¼ãƒ‰ã®ç”Ÿæˆã¨è¡¨ç¤º
            generateFlashcards();
        }

        // å¾©ç¿’å®Œäº†ç”»é¢ã®è¡¨ç¤º
        function showPerfectResult() {
            quizCard.style.display = 'none';
            resultArea.style.display = 'block';
            
            resultTitle.textContent = "å¾©ç¿’å®Œäº†ï¼ğŸ‰";
            resultSubtitle.style.display = "none";
            scoreDisplay.textContent = "PERFECT";
            resultMessage.textContent = "é–“é•ãˆãŸå•é¡Œã‚’ã™ã¹ã¦æ­£è§£ã§ãã¾ã—ãŸã€‚ã“ã®èª¿å­ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼";
            
            actionContainer.innerHTML = ''; // ãƒœã‚¿ãƒ³é ˜åŸŸã‚’åˆæœŸåŒ–
            
            const restartBtn = document.createElement('button');
            restartBtn.className = 'action-btn';
            restartBtn.textContent = "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™";
            restartBtn.onclick = initQuiz;
            actionContainer.appendChild(restartBtn);

            // æš—è¨˜ã‚«ãƒ¼ãƒ‰ã®ç”Ÿæˆã¨è¡¨ç¤º
            generateFlashcards();
        }

        // é€”ä¸­ã§çµ‚äº†ã™ã‚‹å‡¦ç†ï¼ˆ2æ®µéšç¢ºèªï¼‰
        function handleQuitClick() {
            if (quitBtn.classList.contains('confirming')) {
                clearTimeout(quitConfirmTimeout);
                finishQuizEarly();
            } else {
                quitBtn.textContent = "æœ¬å½“ã«çµ‚äº†ã—ã¾ã™ã‹ï¼Ÿ";
                quitBtn.classList.add('confirming');
                quitConfirmTimeout = setTimeout(resetQuitButton, 3000);
            }
        }

        // çµ‚äº†ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºãƒªã‚»ãƒƒãƒˆ
        function resetQuitButton() {
            if(quitBtn) {
                quitBtn.textContent = "é€”ä¸­ã§çµ‚äº†ã—ã¦çµæœã¸";
                quitBtn.classList.remove('confirming');
            }
        }

        // æ—©æœŸçµ‚äº†ã—ã¦çµæœç”»é¢ã¸ã‚¹ã‚­ãƒƒãƒ—
        function finishQuizEarly() {
            // ç¾åœ¨ã®å•é¡ŒãŒæœªè§£ç­”ã®å ´åˆã€ç¾åœ¨ã®å•é¡Œä»¥é™ã‚’ã™ã¹ã¦å¾©ç¿’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
            // è§£ç­”æ¸ˆã¿ã®å ´åˆã¯ã€ç¾åœ¨ã®å•é¡Œã®ã€Œæ¬¡ã®å•é¡Œã€ã‹ã‚‰å¾©ç¿’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
            let startIndex = isAnswered ? currentQuestionIndex + 1 : currentQuestionIndex;
            
            for (let i = startIndex; i < currentQuizList.length; i++) {
                if (!reviewQueue.includes(currentQuizList[i])) {
                    reviewQueue.push(currentQuizList[i]);
                }
            }
            
            if (isReviewMode && reviewQueue.length === 0) {
                showPerfectResult();
            } else {
                showResult();
            }
        }

        // ç©´åŸ‹ã‚æš—è¨˜ã‚«ãƒ¼ãƒ‰ã®ãƒˆã‚°ãƒ«å‡¦ç†ï¼ˆè§£èª¬ã®é€£å‹•è¡¨ç¤ºï¼‰
        function toggleBlank(el) {
            const card = el.closest('.flashcard');
            const explanation = card.querySelector('.flashcard-explanation');
            
            if (el.classList.contains('revealed')) {
                el.textContent = el.getAttribute('data-placeholder');
                el.classList.remove('revealed');
            } else {
                el.textContent = el.getAttribute('data-answer');
                el.classList.add('revealed');
            }

            // ã‚«ãƒ¼ãƒ‰å†…ã®ç©´åŸ‹ã‚ãŒ1ã¤ã§ã‚‚é–‹ã„ã¦ã„ã‚Œã°è§£èª¬ã‚’è¡¨ç¤ºã€ã™ã¹ã¦é–‰ã˜ã¦ã„ã‚Œã°éè¡¨ç¤º
            const allBlanks = card.querySelectorAll('.blank-spot');
            const anyRevealed = Array.from(allBlanks).some(blank => blank.classList.contains('revealed'));
            
            if (anyRevealed) {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
        }

        // æš—è¨˜ã‚«ãƒ¼ãƒ‰ã™ã¹ã¦è¡¨ç¤º/éš ã™ã®å‡¦ç†ï¼ˆè§£èª¬ã®é€£å‹•è¡¨ç¤ºï¼‰
        function toggleAllBlanks(show) {
            const blanks = document.querySelectorAll('.blank-spot');
            blanks.forEach(el => {
                if (show && !el.classList.contains('revealed')) {
                    el.textContent = el.getAttribute('data-answer');
                    el.classList.add('revealed');
                } else if (!show && el.classList.contains('revealed')) {
                    el.textContent = el.getAttribute('data-placeholder');
                    el.classList.remove('revealed');
                }
            });

            // è§£èª¬ã‚‚ä¸€æ‹¬ã§è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
            const explanations = document.querySelectorAll('.flashcard-explanation');
            explanations.forEach(exp => {
                exp.style.display = show ? 'block' : 'none';
            });
        }

        // æš—è¨˜ã‚«ãƒ¼ãƒ‰ã®ç”Ÿæˆå‡¦ç†
        function generateFlashcards() {
            const container = document.getElementById('flashcards-container');
            container.innerHTML = ''; // åˆæœŸåŒ–
            
            quizData.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'flashcard';
                
                // ã‚¿ã‚¤ãƒˆãƒ«è¡Œï¼ˆä¾‹ï¼šã€ç¬¬1æ¬¾ ç›®æ¨™ã€‘ï¼‰ã®æŠ½å‡º
                let qText = q.question;
                let titleMatch = qText.match(/^ã€(.*?)ã€‘/);
                let titleStr = titleMatch ? titleMatch[0] : `å•é¡Œ ${index + 1}`;
                if (titleMatch) {
                    qText = qText.replace(titleMatch[0], '').trim();
                }

                const correctAnswerText = q.options[q.correctAnswer];
                let htmlText = '';

                // ï¼ˆã€€ã€€ï¼‰ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ç©´åŸ‹ã‚å½¢å¼ã«ç½®æ›
                if (qText.includes('ï¼ˆã€€ã€€ï¼‰')) {
                    // /g ã‚’ä½¿ã£ã¦å…¨ã¦ã®ä¸€è‡´éƒ¨åˆ†ã‚’ç½®æ›
                    htmlText = qText.replace(/ï¼ˆã€€ã€€ï¼‰/g, `<span class="blank-spot" data-answer="${correctAnswerText}" data-placeholder="ã€€ã€€ã€€" onclick="toggleBlank(this)">ã€€ã€€ã€€</span>`);
                } else {
                    // å«ã¾ã‚Œã¦ã„ãªã„å ´åˆï¼ˆæ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ç­‰ï¼‰ã¯æœ«å°¾ã«å›ç­”ã‚’è¿½åŠ 
                    htmlText = `${qText}<br><br><strong>æ­£è§£ï¼š</strong><span class="blank-spot" data-answer="${correctAnswerText}" data-placeholder="ã€€ã€€ã€€" onclick="toggleBlank(this)">ã€€ã€€ã€€</span>`;
                }

                card.innerHTML = `
                    <h4>${titleStr}</h4>
                    <p>${htmlText}</p>
                    <p class="flashcard-explanation"><strong>è§£èª¬ï¼š</strong>${q.explanation}</p>
                `;
                container.appendChild(card);
            });
            
            flashcardsSection.style.display = 'block';
        }

        // ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åˆ¶å¾¡
        window.onscroll = function() {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                backToTopBtn.style.display = "flex";
            } else {
                backToTopBtn.style.display = "none";
            }
        };

        // JSã«ã‚ˆã‚‹ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆaã‚¿ã‚°ã®ã‚¢ãƒ³ã‚«ãƒ¼ãƒªãƒ³ã‚¯ä¸ä½¿ç”¨ï¼‰
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã®å®Ÿè¡Œ
        initQuiz();

    </script>
</body>
</html>
